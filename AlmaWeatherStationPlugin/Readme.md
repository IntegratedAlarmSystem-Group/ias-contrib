# Alma Weather Station Plugin

This plugin retrieves data from the [alma weather station](http://weather.aiv.alma.cl/ws_weather.php) SOAP service and publishes them to a Kafka Queue. To be able to connect to the station the device must be connected to a network from ALMA, ESO, NAOJ or NRAO.

The _weather station plugin_ was created extending the plugin class in the ias core, inspired in the example provided in _plugin/test/.../DumbWeatherStationPlugin.java_. To build it you only need gradle and execute `gradle build` in the AlmaWeatherStationPlugin folder. The jar is generated by default in build/libs.

To execute the jar, you must be in the same folder as the config file _WeatherStationPluginTest.json_ and run `java -jar %jarLocation%/AlmaWeatherStationPlugin.jar`. The data retrieved is published in kafka, by default in the topic PluginKTopic. To see the output of the plugin in the console you can run a simple consumer using `kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic PluginsKTopic`.
