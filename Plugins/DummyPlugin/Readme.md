# DummyPlugin

This plugin reads commands from the standard input and sends simulated data accordingly.

## Requirements
To be able to connect to the station the device must be connected to a network from ALMA, ESO, NAOJ or NRAO.

The following programs must be installed:

* Zookeeper (v.3.4.9)
* Apache Kafka (v.2.12)
* Gradle (v.4.4.1)
* Java JDK (v.1.8.0)

## Build and Run

To build it execute `gradle` in the _DummyPlugin_ folder.

`[DummyPlugin]$ gradle`

The jar is generated by default in the dist/ directory.

To execute the jar kafka must be running, then run

`[DummyPlugin]$ java -jar dist/DummyPlugin.jar`

The data retrieved is published in kafka, by default in the topic _PluginKTopic_.

To see the output of the plugin in the console you can run a simple consumer using

`./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic PluginsKTopic`

from the _kafka/bin/_ folder.

## Commands

There are 3 commands available currently, they are all case insensitive:

 - _value \[double\]_: changes the value sent by the plugin. The default configuration (found in the config folder) sets the treshold limit in 0 and 50, meaning that any value outside the range ]0, 50[ will trigger the alarm. e.g. value 51.3

 - _mode \[mode\]_: changes the operational mode for the value sent. The options are _operational, maintenance, startup, initialization, degraded, closing, shutteddown_ and _unknown_.

 - _update \[int\]: changes the rate at which the value is updated (milliseconds). If this value is higher than 1500 the value sent will be invalid.
